<!-- ğŸŒŸ NAVBAR -->
<nav class="navbar">
  <div class="navbar-logo">
    <img src="https://cdn-icons-png.flaticon.com/512/924/924514.png"  class="logo-img" />
    <span class="nombre-cafe">CafÃ© Delicias Peruanas</span>
  </div>

  <div class="navbar-actions">
    <button class="btn-carrito" [routerLink]="['/carrito']">
		ğŸ›’ Carrito
	</button>
    <button class="btn-mis-pedidos" [routerLink]="['/mis-pedidos']">ğŸ“¦ Mis pedidos</button>
    <button class="btn-contacto" (click)="abrirModal()">ğŸ“ Contacto</button>
  </div>
</nav>

<!-- ğŸ” BUSCADOR -->
<div class="buscador-container">
  <input
    type="text"
    placeholder="Buscar productos..."
    [(ngModel)]="filtro"
    (input)="currentPage = 1"
    class="barra-busqueda"
  />
</div>

<!-- ğŸŒ MODAL CONTACTO -->
<div class="modal-backdrop" *ngIf="modalVisible" (click)="cerrarModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h4>ContÃ¡ctanos</h4>

    <p>EscrÃ­benos en nuestras redes o por WhatsApp y te atenderemos ğŸ˜Š</p>

    <ul class="redes">
      <li>
        <a href="https://wa.me/519XXXXXXXX" target="_blank" rel="noopener">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg" alt="whatsapp" style="width:28px;height:28px"/>
        </a>
      </li>
      <li>
        <a href="https://instagram.com/tuusuario" target="_blank" rel="noopener">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="instagram" style="width:28px;height:28px"/>
        </a>
      </li>
      <li>
        <a href="https://facebook.com/tuusuario" target="_blank" rel="noopener">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="facebook" style="width:28px;height:28px"/>
        </a>
      </li>
      <li>
        <a href="https://tiktok.com/@tuusuario" target="_blank" rel="noopener">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/tiktok.svg" alt="tiktok" style="width:28px;height:28px"/>
        </a>
      </li>
    </ul>

    <button (click)="cerrarModal()" class="btn-cerrar">Cerrar</button>
  </div>
</div>

<!-- ğŸ›ï¸ PRODUCTOS -->
<div class="tienda-container">
  <h2 class="titulo">â˜• CatÃ¡logo de Productos </h2>

  <div class="productos-grid">
    <div *ngFor="let p of productosFiltrados" class="producto-card">
      <img
        [src]="'http://localhost:8080/uploads/' + p.imagen"
        alt="{{ p.nombre }}"
        class="producto-img"
      />

      <div class="producto-info">
        <h5>{{ p.nombre }}</h5>
        <p class="descripcion">{{ p.descripcion }}</p>
        <p class="precio">ğŸ’²{{ p.precio | number: '1.2-2' }}</p>

        <button (click)="agregarAlCarrito(p)" class="btn-agregar">â• AÃ±adir al carrito</button>
        <button (click)="verResenas(p.id!)" class="btn-resenas">â­ Ver reseÃ±as</button>
      </div>
    </div>
  </div>

  <!-- ğŸ”¢ PAGINACIÃ“N -->
  <div class="paginacion" *ngIf="totalPaginas > 1">
    <button (click)="cambiarPagina(currentPage - 1)" [disabled]="currentPage === 1">â­  Anterior</button>

    <!-- botones numerados -->
    <ng-container *ngFor="let i of [].constructor(totalPaginas); let idx = index">
      <button
        (click)="cambiarPagina(idx + 1)"
        [class.activa]="currentPage === idx + 1"
      >
        {{ idx + 1 }}
      </button>
    </ng-container>

    <button (click)="cambiarPagina(currentPage + 1)" [disabled]="currentPage === totalPaginas">
      Siguiente â­¢
    </button>
  </div>
</div>